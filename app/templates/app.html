{% extends "base.html" %}

{% block head %}
{{ super() }}
<script type=text/javascript src="{{ url_for('static', filename='jquery-3.2.1.min.js') }}"></script>
<script type=text/javascript>
  $SCRIPT_ROOT = {{ request.script_root|tojson|safe }};
</script>
<script type="text/javascript" src="{{ url_for('static', filename='app.js') }}"></script>
{% endblock %}

{% block body %}
<h1 id="title">{{ app['name'] }}</h1>
<h2>Settings</h2>
<form method="post">
  <label>Name:</label><br>
  <input type="text" name="name" id="settings_name" value="{{ app['name'] }}"><br>
  <label>Path:</label><br>
  <input type="text" name="filepath" id="settings_filepath" value="{{ app['filepath'] }}"><br>
  <label>Slot Length:</label><br>
  <input type="text" name="slot_length" id="settings_slot_length" value="{{ app['slot_length'] }}"><br>
  <input type="submit" value="Update" id="update_settings">
</form>
<h2>Users</h2>
<ul id="users">
  {% for u in users %}
  <li id="{{ u }}">{{ u }} <a href="#" class="remove_user" data-user="{{ u }}">(remove)</a></li>
  {% endfor %}
</ul>
<form>
  <input type="text" name="new_user" value="" id="new_user">
  <input type="submit" value="Add User" name="add_user" id="add_user">
</form>
<input type="hidden" name="app_id_hidden" id="app_id" value="{{ app['id'] }}">
{% endblock %}
